<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.14.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Task Processor CLI: Database Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Task Processor CLI
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.14.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('classDatabase.html','','classDatabase-members'); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Database Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>In-memory task database with filtering, sorting, and query capabilities.  
 <a href="#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="database_8hpp_source.html">database.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-pub-methods" class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab8260ee3de69c6621997280f9a98ca90" id="r_ab8260ee3de69c6621997280f9a98ca90"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab8260ee3de69c6621997280f9a98ca90">load</a> (std::vector&lt; <a class="el" href="structTask.html">Task</a> &gt; tasks)</td></tr>
<tr class="memdesc:ab8260ee3de69c6621997280f9a98ca90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load tasks into the database, replacing any existing data.  <br /></td></tr>
<tr class="memitem:a65610d6930d702e0cc80fb18015853a5" id="r_a65610d6930d702e0cc80fb18015853a5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a65610d6930d702e0cc80fb18015853a5">reset_view</a> () noexcept</td></tr>
<tr class="memdesc:a65610d6930d702e0cc80fb18015853a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the current view to include all loaded tasks.  <br /></td></tr>
<tr class="memitem:a4637efe3d0d65b029f7424e00235402b" id="r_a4637efe3d0d65b029f7424e00235402b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4637efe3d0d65b029f7424e00235402b">apply_filter</a> (const <a class="el" href="structFilterSpec.html">FilterSpec</a> &amp;filter)</td></tr>
<tr class="memdesc:a4637efe3d0d65b029f7424e00235402b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply a filter to narrow the current view.  <br /></td></tr>
<tr class="memitem:a62984f7f9e8003bbff482f3787ab5b81" id="r_a62984f7f9e8003bbff482f3787ab5b81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62984f7f9e8003bbff482f3787ab5b81">apply_sort</a> (const <a class="el" href="structSortSpec.html">SortSpec</a> &amp;sort)</td></tr>
<tr class="memdesc:a62984f7f9e8003bbff482f3787ab5b81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Apply a sort to reorder the current view.  <br /></td></tr>
<tr class="memitem:acb7e55e8abb9b953ee2f66631e66eecc" id="r_acb7e55e8abb9b953ee2f66631e66eecc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb7e55e8abb9b953ee2f66631e66eecc">filter_by_tag</a> (std::string_view tag)</td></tr>
<tr class="memdesc:acb7e55e8abb9b953ee2f66631e66eecc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter current view to tasks containing a specific tag.  <br /></td></tr>
<tr class="memitem:a9e0f4e844b77f559483b208e00533306" id="r_a9e0f4e844b77f559483b208e00533306"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9e0f4e844b77f559483b208e00533306">filter_no_tags</a> () noexcept</td></tr>
<tr class="memdesc:a9e0f4e844b77f559483b208e00533306"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter current view to tasks with no tags.  <br /></td></tr>
<tr class="memitem:a794960bbd1458fda363a81bd9c3b9703" id="r_a794960bbd1458fda363a81bd9c3b9703"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a794960bbd1458fda363a81bd9c3b9703">search_text</a> (std::string_view text)</td></tr>
<tr class="memdesc:a794960bbd1458fda363a81bd9c3b9703"><td class="mdescLeft">&#160;</td><td class="mdescRight">Filter current view by text search in title and description.  <br /></td></tr>
<tr class="memitem:ae52390e2bd7ce6d165239f0ad2d089b7" id="r_ae52390e2bd7ce6d165239f0ad2d089b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae52390e2bd7ce6d165239f0ad2d089b7">replay_history</a> (const std::vector&lt; <a class="el" href="structViewAction.html">ViewAction</a> &gt; &amp;actions) noexcept</td></tr>
<tr class="memdesc:ae52390e2bd7ce6d165239f0ad2d089b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replay a sequence of view actions to reconstruct a saved view state.  <br /></td></tr>
<tr class="memitem:a3d4b859166546071189934d3b4f76771" id="r_a3d4b859166546071189934d3b4f76771"><td class="memItemLeft" align="right" valign="top">const std::vector&lt; const <a class="el" href="structTask.html">Task</a> * &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3d4b859166546071189934d3b4f76771">current_view</a> () const noexcept</td></tr>
<tr class="memdesc:a3d4b859166546071189934d3b4f76771"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current filtered/sorted view.  <br /></td></tr>
<tr class="memitem:ace5a8f2ce30828263d063560b3cead27" id="r_ace5a8f2ce30828263d063560b3cead27"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structTask.html">Task</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ace5a8f2ce30828263d063560b3cead27">get_task_by_id</a> (int id) const noexcept</td></tr>
<tr class="memdesc:ace5a8f2ce30828263d063560b3cead27"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a task by ID.  <br /></td></tr>
<tr class="memitem:a7115aa2f3d21bb2925c6ab04481d3f73" id="r_a7115aa2f3d21bb2925c6ab04481d3f73"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7115aa2f3d21bb2925c6ab04481d3f73">total_task_count</a> () const noexcept</td></tr>
<tr class="memdesc:a7115aa2f3d21bb2925c6ab04481d3f73"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get total number of tasks loaded in canonical storage.  <br /></td></tr>
<tr class="memitem:abf3bdddc05b69abfe1a2365de4f41de4" id="r_abf3bdddc05b69abfe1a2365de4f41de4"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abf3bdddc05b69abfe1a2365de4f41de4">view_task_count</a> () const noexcept</td></tr>
<tr class="memdesc:abf3bdddc05b69abfe1a2365de4f41de4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get number of tasks in current view.  <br /></td></tr>
<tr class="memitem:ae47edc01ae296ead395dfc4b4664c544" id="r_ae47edc01ae296ead395dfc4b4664c544"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae47edc01ae296ead395dfc4b4664c544">empty</a> () const noexcept</td></tr>
<tr class="memdesc:ae47edc01ae296ead395dfc4b4664c544"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if database is empty.  <br /></td></tr>
<tr class="memitem:a79a44657d36f690f3d9aae7d36f8a2df" id="r_a79a44657d36f690f3d9aae7d36f8a2df"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structStatusStats.html">StatusStats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79a44657d36f690f3d9aae7d36f8a2df">status_stats</a> () const noexcept</td></tr>
<tr class="memdesc:a79a44657d36f690f3d9aae7d36f8a2df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute status distribution for current view.  <br /></td></tr>
<tr class="memitem:a4a49b6af3765a906dfc7626a546f9868" id="r_a4a49b6af3765a906dfc7626a546f9868"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a49b6af3765a906dfc7626a546f9868">average_priority</a> () const noexcept</td></tr>
<tr class="memdesc:a4a49b6af3765a906dfc7626a546f9868"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute average priority of tasks in current view.  <br /></td></tr>
<tr class="memitem:ab4657231ebea714f97b67718bbc0c84f" id="r_ab4657231ebea714f97b67718bbc0c84f"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab4657231ebea714f97b67718bbc0c84f">overdue_count</a> (std::string_view today_iso) const noexcept</td></tr>
<tr class="memdesc:ab4657231ebea714f97b67718bbc0c84f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Count overdue tasks in current view.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>In-memory task database with filtering, sorting, and query capabilities. </p>
<p>The <a class="el" href="classDatabase.html" title="In-memory task database with filtering, sorting, and query capabilities.">Database</a> maintains:</p><ul>
<li>Canonical storage: all loaded tasks indexed by ID</li>
<li>Current view: filtered/sorted subset of tasks</li>
<li>Secondary indices: for efficient status and tag lookups</li>
</ul>
<p>Responsibilities:</p><ul>
<li>Store and manage task lifecycle</li>
<li>Apply filters (narrows current view)</li>
<li>Apply sorting (reorders current view)</li>
<li>Compute aggregations and statistics</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>View operations (filter/sort) do not mutate the canonical task store. </dd>
<dd>
Not thread-safe; caller must synchronize access if needed. </dd></dl>
</div><a name="doc-func-members" id="doc-func-members"></a><h2 id="header-doc-func-members" class="groupheader">Member Function Documentation</h2>
<a id="a4637efe3d0d65b029f7424e00235402b" name="a4637efe3d0d65b029f7424e00235402b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4637efe3d0d65b029f7424e00235402b">&#9670;&#160;</a></span>apply_filter()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Database::apply_filter </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structFilterSpec.html">FilterSpec</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>filter</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply a filter to narrow the current view. </p>
<p>Filtering is cumulative: each filter further narrows the existing view. To start fresh, call <span class="tt"><a class="el" href="#a65610d6930d702e0cc80fb18015853a5" title="Reset the current view to include all loaded tasks.">reset_view()</a></span> first.</p>
<dl class="section pre"><dt>Precondition</dt><dd><span class="tt">filter</span> is a valid <a class="el" href="structFilterSpec.html" title="Specification for a single filter predicate.">FilterSpec</a> with recognized field and operator. </dd>
<dd>
Current view is non-empty (or filter has no effect). </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><span class="tt">view_</span> contains only tasks matching the filter predicate. </dd>
<dd>
Order within view is preserved. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(invalid filters are logged and ignored).</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">filter</td><td>The filter specification to apply. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62984f7f9e8003bbff482f3787ab5b81" name="a62984f7f9e8003bbff482f3787ab5b81"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62984f7f9e8003bbff482f3787ab5b81">&#9670;&#160;</a></span>apply_sort()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Database::apply_sort </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structSortSpec.html">SortSpec</a> &amp;</td>          <td class="paramname"><span class="paramname"><em>sort</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Apply a sort to reorder the current view. </p>
<dl class="section pre"><dt>Precondition</dt><dd><span class="tt">sort</span> specifies a valid sortable field and direction. </dd>
<dd>
Current view is non-empty (or sort has no effect). </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><span class="tt">view_</span> is reordered according to the sort specification. </dd>
<dd>
Sorting is stable (preserves relative order of equal elements). </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(invalid sorts are logged and ignored).</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sort</td><td>The sort specification to apply. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4a49b6af3765a906dfc7626a546f9868" name="a4a49b6af3765a906dfc7626a546f9868"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a49b6af3765a906dfc7626a546f9868">&#9670;&#160;</a></span>average_priority()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double Database::average_priority </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute average priority of tasks in current view. </p>
<dl class="section pre"><dt>Precondition</dt><dd>none </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Returns average priority (1.0 to 5.0), or 0.0 if view is empty. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Average priority value. </dd></dl>

</div>
</div>
<a id="a3d4b859166546071189934d3b4f76771" name="a3d4b859166546071189934d3b4f76771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d4b859166546071189934d3b4f76771">&#9670;&#160;</a></span>current_view()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const std::vector&lt; const <a class="el" href="structTask.html">Task</a> * &gt; &amp; Database::current_view </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the current filtered/sorted view. </p>
<dl class="section pre"><dt>Precondition</dt><dd>none </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Returns a const reference to the current view. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Returned pointers remain valid until next <span class="tt"><a class="el" href="#ab8260ee3de69c6621997280f9a98ca90" title="Load tasks into the database, replacing any existing data.">load()</a></span> call.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Const reference to vector of task pointers. </dd></dl>

</div>
</div>
<a id="ae47edc01ae296ead395dfc4b4664c544" name="ae47edc01ae296ead395dfc4b4664c544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae47edc01ae296ead395dfc4b4664c544">&#9670;&#160;</a></span>empty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Database::empty </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if database is empty. </p>
<dl class="section pre"><dt>Precondition</dt><dd>none </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Returns true if no tasks are loaded. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if empty, false otherwise. </dd></dl>

</div>
</div>
<a id="acb7e55e8abb9b953ee2f66631e66eecc" name="acb7e55e8abb9b953ee2f66631e66eecc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb7e55e8abb9b953ee2f66631e66eecc">&#9670;&#160;</a></span>filter_by_tag()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Database::filter_by_tag </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>tag</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter current view to tasks containing a specific tag. </p>
<dl class="section pre"><dt>Precondition</dt><dd><span class="tt">tag</span> is a non-empty tag string. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><span class="tt">view_</span> contains only tasks whose <span class="tt">tags</span> vector includes <span class="tt">tag</span>. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept).</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tag</td><td>The tag to filter by. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e0f4e844b77f559483b208e00533306" name="a9e0f4e844b77f559483b208e00533306"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e0f4e844b77f559483b208e00533306">&#9670;&#160;</a></span>filter_no_tags()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Database::filter_no_tags </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Filter current view to tasks with no tags. </p>
<dl class="section pre"><dt>Precondition</dt><dd>none </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><span class="tt">view_</span> contains only tasks with empty <span class="tt">tags</span> vector. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ace5a8f2ce30828263d063560b3cead27" name="ace5a8f2ce30828263d063560b3cead27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace5a8f2ce30828263d063560b3cead27">&#9670;&#160;</a></span>get_task_by_id()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structTask.html">Task</a> * Database::get_task_by_id </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a task by ID. </p>
<dl class="section pre"><dt>Precondition</dt><dd><span class="tt">id</span> may or may not exist in the database. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Returns pointer to task if found, nullptr otherwise. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Returned pointer remains valid until next <span class="tt"><a class="el" href="#ab8260ee3de69c6621997280f9a98ca90" title="Load tasks into the database, replacing any existing data.">load()</a></span> call.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The task ID to look up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to task or nullptr if not found. </dd></dl>

</div>
</div>
<a id="ab8260ee3de69c6621997280f9a98ca90" name="ab8260ee3de69c6621997280f9a98ca90"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab8260ee3de69c6621997280f9a98ca90">&#9670;&#160;</a></span>load()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Database::load </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="structTask.html">Task</a> &gt;</td>          <td class="paramname"><span class="paramname"><em>tasks</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load tasks into the database, replacing any existing data. </p>
<dl class="section pre"><dt>Precondition</dt><dd><span class="tt">tasks</span> contains valid <a class="el" href="structTask.html" title="Represents a task with various attributes.">Task</a> objects (caller-validated). </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><span class="tt">tasks_</span> contains all tasks indexed by ID. </dd>
<dd>
<span class="tt">view_</span> contains pointers to all tasks in insertion order. </dd>
<dd>
Secondary indices are rebuilt. </dd>
<dd>
Previous filters/sorts are cleared. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept move semantics).</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tasks</td><td>Vector of tasks to load (moved into storage). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab4657231ebea714f97b67718bbc0c84f" name="ab4657231ebea714f97b67718bbc0c84f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4657231ebea714f97b67718bbc0c84f">&#9670;&#160;</a></span>overdue_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Database::overdue_count </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>today_iso</em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Count overdue tasks in current view. </p>
<p>A task is overdue if:</p><ul>
<li>It has a <span class="tt">due_date</span> value</li>
<li><span class="tt">due_date &lt; today_iso</span></li>
<li><span class="tt">status != "done"</span></li>
</ul>
<dl class="section pre"><dt>Precondition</dt><dd><span class="tt">today_iso</span> is a valid ISO 8601 date string (YYYY-MM-DD). </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Returns count of overdue tasks. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept, invalid dates are skipped).</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">today_iso</td><td>Current date in ISO 8601 format for comparison. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Count of overdue tasks. </dd></dl>

</div>
</div>
<a id="ae52390e2bd7ce6d165239f0ad2d089b7" name="ae52390e2bd7ce6d165239f0ad2d089b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae52390e2bd7ce6d165239f0ad2d089b7">&#9670;&#160;</a></span>replay_history()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Database::replay_history </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structViewAction.html">ViewAction</a> &gt; &amp;</td>          <td class="paramname"><span class="paramname"><em>actions</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replay a sequence of view actions to reconstruct a saved view state. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="classDatabase.html" title="In-memory task database with filtering, sorting, and query capabilities.">Database</a> contains loaded tasks. </dd>
<dd>
<span class="tt">actions</span> is a vector of valid <a class="el" href="structViewAction.html" title="A single recorded view action with its payload/argument.">ViewAction</a> objects. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>View is modified according to the action sequence. </dd>
<dd>
Invalid actions are logged and skipped. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept - errors are logged).</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">actions</td><td>Vector of actions to replay in order. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a65610d6930d702e0cc80fb18015853a5" name="a65610d6930d702e0cc80fb18015853a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a65610d6930d702e0cc80fb18015853a5">&#9670;&#160;</a></span>reset_view()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Database::reset_view </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reset the current view to include all loaded tasks. </p>
<dl class="section pre"><dt>Precondition</dt><dd><a class="el" href="classDatabase.html" title="In-memory task database with filtering, sorting, and query capabilities.">Database</a> may be empty or contain tasks. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><span class="tt">view_</span> contains pointers to all tasks in <span class="tt">tasks_</span>, ordered by ID. </dd>
<dd>
Clears any active filters. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a794960bbd1458fda363a81bd9c3b9703" name="a794960bbd1458fda363a81bd9c3b9703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a794960bbd1458fda363a81bd9c3b9703">&#9670;&#160;</a></span>search_text()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Database::search_text </td>
          <td>(</td>
          <td class="paramtype">std::string_view</td>          <td class="paramname"><span class="paramname"><em>text</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Filter current view by text search in title and description. </p>
<dl class="section pre"><dt>Precondition</dt><dd><span class="tt">text</span> is the search string (case-insensitive substring match). </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd><span class="tt">view_</span> contains only tasks where <span class="tt">text</span> appears in title or description. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept).</td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>The text to search for. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a79a44657d36f690f3d9aae7d36f8a2df" name="a79a44657d36f690f3d9aae7d36f8a2df"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79a44657d36f690f3d9aae7d36f8a2df">&#9670;&#160;</a></span>status_stats()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structStatusStats.html">StatusStats</a> Database::status_stats </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compute status distribution for current view. </p>
<dl class="section pre"><dt>Precondition</dt><dd>none </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Returns <a class="el" href="structStatusStats.html" title="Aggregate statistics grouped by task status.">StatusStats</a> with counts for each status category. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Status statistics for current view. </dd></dl>

</div>
</div>
<a id="a7115aa2f3d21bb2925c6ab04481d3f73" name="a7115aa2f3d21bb2925c6ab04481d3f73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7115aa2f3d21bb2925c6ab04481d3f73">&#9670;&#160;</a></span>total_task_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Database::total_task_count </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get total number of tasks loaded in canonical storage. </p>
<dl class="section pre"><dt>Precondition</dt><dd>none </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Returns count of all tasks, ignoring filters. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Total task count. </dd></dl>

</div>
</div>
<a id="abf3bdddc05b69abfe1a2365de4f41de4" name="abf3bdddc05b69abfe1a2365de4f41de4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abf3bdddc05b69abfe1a2365de4f41de4">&#9670;&#160;</a></span>view_task_count()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t Database::view_task_count </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel noexcept">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get number of tasks in current view. </p>
<dl class="section pre"><dt>Precondition</dt><dd>none </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Returns count of tasks in filtered/sorted view. </dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">none</td><td>(noexcept).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Current view task count. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="database_8hpp_source.html">database.hpp</a></li>
<li><b>database.cpp</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="classDatabase.html">Database</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.14.0 </li>
  </ul>
</div>
</body>
</html>
